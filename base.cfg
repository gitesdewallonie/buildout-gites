[buildout]
extends = http://dist.plone.org/release/4.2.2/versions.cfg
          http://svn.affinitic.be/buildouts/base/plone4.cfg
          http://good-py.appspot.com/release/getpaid/0.10.4
          sources.cfg
          versions.cfg
          port.cfg

extensions = buildout.dumppickedversions
             mr.developer
sources-dir = devel
allow-picked-versions = false
dump-picked-versions-file = versions-picked.cfg
auto-checkout =
    gites.calendar
    gites.core
    gites.db
    gites.ldap
    gites.skin
    gites.app
    gites.map
    gites.shop
    bnbelgium.skin
    affinitic.caching
    five.megrok.z3cform
    megrok.z3cform
    gites.ldapimport
    gites.imports
    megrok.z3cform.base
    Products.MailmanSubForm
    getpaid.ogone
parts =
    products-dist
    instance01
    zopepy
    omelette
    scripts
    test
versions = versions
index = http://pypi.affinitic.be
allow-hosts = pypi.affinitic.be
              eggs.affinitic.be
              packages.affinitic.be
	      getpaid.googlecode.com
find-links +=
        http://packages.affinitic.be/simple
        http://eggs.affinitic.be/
develop =
eggs +=
    gites.app
unzip = true
zcml =
    gites.app
    gites.shop-overrides
products =
    ${buildout:directory}/parts/products-dist

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance01:eggs}
products = ${instance01:products}

[products-dist]
recipe = plone.recipe.distros
urls =
    http://eggs.affinitic.be/PloneZCdatetimewidget.tar

[instance01]
recipe = plone.recipe.zope2instance
user = admin:admin
verbose-security = on
environment-vars =
    PTS_LANGUAGES fr en nl it de
http-address = 5080
debug-mode = on
zcml = ${buildout:zcml}
products = ${buildout:products}
eggs =
    ${buildout:eggs}

zcml-additional =
 <configure xmlns="http://namespaces.zope.org/zope"
            xmlns:passmgr="http://affinitic.be/passmgr">
    <passmgr:pwdfile name="pg"
             filename="pgpass"/>
 </configure>

[zopepy]
recipe = zc.recipe.egg
eggs = ${instance01:eggs}
interpreter = zopepy
scripts = zopepy

[scripts]
recipe = zc.recipe.egg:scripts
eggs = gites.ldapimport
       gites.calendar
       gites.db

[test]
recipe = zc.recipe.testrunner
eggs = gites.ldapimport
       gites.calendar
       gites.imports
       gites.db [test]
       gites.app [test]
       gites.shop [test]
       ipdb
