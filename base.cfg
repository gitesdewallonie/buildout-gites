[buildout]
extends = http://dist.plone.org/release/4.2.2/versions.cfg
          http://svn.affinitic.be/buildouts/base/plone4.cfg
          sources.cfg
	        versions.cfg
          port.cfg

#versions.cfg
eggs-directory = eggs
extensions = buildout.dumppickedversions
             mr.developer
sources-dir = devel
allow-picked-versions = false
dump-picked-versions-file = versions-picked.cfg
auto-checkout =
    gites.calendar
    gites.core
    gites.db
    gites.ldap
    gites.skin
    gites.app
    gites.map
    bnbelgium.skin
    five.megrok.z3cform
    megrok.z3cform
    gites.ldapimport
    gites.imports
    megrok.z3cform.base
    Products.MailmanSubForm

parts =
    products-dist
    instance01
    zopepy
    omelette
    scripts
    test

versions = versions

index = http://pypi.affinitic.be
allow-hosts = pypi.affinitic.be
              eggs.affinitic.be
              packages.affinitic.be
find-links =
        http://packages.affinitic.be/simple
        http://eggs.affinitic.be/

develop =

eggs +=
    gites.app
    zc.datetimewidget

unzip = true
zcml =
    gites.app
    Products.PloneZCdatetimewidget-overrides
    Products.PloneZCdatetimewidget

products =
    ${buildout:directory}/parts/products-dist

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance01:eggs}
products = ${instance01:products}

[products-dist]
recipe = plone.recipe.distros
urls =
    http://eggs.affinitic.be/PloneZCdatetimewidget.tar

[instance01]
recipe = plone.recipe.zope2instance
user = admin:admin
verbose-security = on
environment-vars =
    PTS_LANGUAGES fr en nl it de
http-address = 5080
debug-mode = on
zcml = ${buildout:zcml}
products = ${buildout:products}
eggs =
    ${buildout:eggs}

zcml-additional =
 <configure xmlns="http://namespaces.zope.org/zope"
            xmlns:passmgr="http://affinitic.be/passmgr">
    <passmgr:pwdfile name="pg"
             filename="pgpass"/>
 </configure>

[zopepy]
recipe = zc.recipe.egg
eggs = ${instance01:eggs}
interpreter = zopepy
scripts = zopepy

[scripts]
recipe = zc.recipe.egg:scripts
eggs = zope.interface
       ipdb
       gites.ldapimport
       gites.calendar
       gites.db

[test]
recipe = zc.recipe.testrunner
eggs = gites.ldapimport
       gites.calendar
       gites.imports
       ipdb
